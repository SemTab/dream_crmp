new Float:seat_down_all[][4] =
{
	// Отель Холл

	{-2734.2485,-1763.0614,2.3211,85.3257},
	{-2735.2944,-1763.3605,2.3211,271.9438},
	{-2741.7571,-1762.9166,2.3211,89.4295},
	{-2742.7959,-1763.4316,2.3211,269.3969},
	{-2746.3042,-1763.4091,2.3211,87.2299},
	{-2747.3418,-1763.1815,2.3211,269.0663},
	{-2750.7104,-1763.0846,2.3211,87.9248},
	{-2751.7559,-1763.0804,2.3211,269.7782},
	{-2751.7563,-1757.0173,2.3211,269.5299},
	{-2750.7107,-1757.2946,2.3211,88.8846},
	{-2747.3425,-1757.3004,2.3211,269.1328},
	{-2746.3042,-1757.0052,2.3211,90.3736},
	{-2742.7949,-1757.0701,2.3211,270.6218},
	{-2741.7573,-1757.0746,2.3211,90.1751},

	// Туалет в номере отеля
    {-2027.0466,1977.4634,1164.0964,91.5281},

    // Дом низкого класса

    {-2573.8467,394.1206,1.8041,359.4925},
    {-2575.2939,394.1089,1.8119,3.1157},
    {-2577.7837,393.9826,1.8119,358.8473},
    {-2577.8596,396.1758,1.8041,176.6804},
    {-2569.3579,394.5024,1.8041,315.7505},
    {-2580.0439,403.8711,1.8041,359.3774},
    {-2576.8284,403.5215,1.8041,0.7671},
    {-2579.4983,408.4509,1.8041,272.0085},

    // Дом среднего класса

    {1431.2054,-1883.1416,1117.8101,267.9724},
    {1432.3525,-1891.0991,1117.8174,38.7200},
    {1433.4950,-1890.5077,1117.8174,34.7495},


    // Апартаменты 1

	{501.0310,2294.4619,1601.0000,312.3196},
	{502.5763,2298.4983,1601.0000,181.7500},
	{504.0574,2298.4873,1601.0000,181.1500},
	{504.8602,2297.3945,1601.0000,94.7038},
	{504.8092,2296.3408,1601.0000,93.4088},

	// Апартаменты 2

	{55.0443,438.1798,1201.9380,318.6048},
	{54.6201,439.8448,1201.9454,183.7715},
	{55.6748,439.8972,1201.9454,183.6136},
	{56.4661,439.2105,1201.9454,91.1032},

    // Казино столы для игры

    {19.1625,1008.7975,1300.1563,206.2088},
    {18.4585,1007.9789,1300.1563,257.1315},
    {18.5372,1006.7941,1300.1636,292.5194},   
    {19.5036,1006.2755,1300.1636,347.4130}, 

	{17.8643,1012.1422,1300.1563,9.8809},
	{16.8194,1012.1390,1300.1563,327.3457},
	{16.1982,1013.0291,1300.1563,286.2501},
	{16.3904,1014.2076,1300.1563,234.8308},
	{12.4385,1016.6808,1300.1563,74.1706},
	{11.8194,1015.8101,1300.1563,23.5951},
	{10.7657,1015.8187,1300.1563,347.4627},
	{9.8960,1016.6615,1300.1563,293.8595},
	{6.0945,1014.2492,1300.1563,123.2727},
	{6.5087,1013.2455,1300.1563,81.2341},
	{5.8932,1012.3317,1300.1563,38.7486},
	{4.6606,1012.1101,1300.1563,350.0095},


	// Казино обычные сидячие места 

	{20.0544,992.6640,1300.5625,61.0649},
	{19.5270,991.3524,1300.5625,70.1477},
	{18.9173,988.8080,1300.5697,89.6037},
	{18.8702,987.6238,1300.5625,85.6331},
	{18.8166,986.1702,1300.5625,75.9051},
	{18.1539,984.8483,1300.5625,63.6459},
	{17.3730,983.5315,1300.5625,53.2231},
	{16.2641,982.5290,1300.5625,40.3682},
	{14.9944,981.8254,1300.5625,25.7267},
	{13.7498,981.4329,1300.5625,26.1734},
	{12.5038,980.7057,1300.5697,29.5484},
	{11.2154,980.1907,1300.5625,37.3407},
	{10.1358,979.2915,1300.5625,42.0558},


	// Интерьер банка

	{-95.0498,714.5649,1600.1958,180.9671},
	{-95.2372,716.2979,1600.1958,0.1403},
	{-101.3620,716.2978,1600.1958,0.7856},
	{-101.5877,714.5831,1600.2032,182.4562},

	// Администрация

	{650.3661,-27.6876,1202.0065,269.8683},
	{650.2303,-26.3823,1202.0065,270.5632},
	{650.1284,-25.0286,1202.0065,276.2777},
	{650.7432,-21.4918,1202.0065,270.0877},
	{650.6671,-19.8886,1202.0065,271.5112},
	{650.6694,-18.2445,1202.0065,263.2361},
	{650.0007,-12.1114,1202.0065,270.6900},
	{650.0206,-13.4203,1202.0065,271.8586},
	{649.9048,-14.7278,1202.0065,274.0674},
	{656.2728,-15.8089,1202.0065,88.3496},
	{656.4747,-17.2840,1202.0065,90.9397},
	{656.3314,-18.6868,1202.0065,91.2239},
	{656.2850,-20.0290,1202.0065,85.9493},
	{656.2922,-21.3199,1202.0065,92.4219},
	{656.2903,-22.7905,1202.0065,90.5266},
	{656.3226,-24.2964,1202.0065,84.9996},
	{657.9849,-24.2690,1202.0065,91.0638},
	{657.9429,-22.7333,1202.0065,93.3715},
	{657.9407,-21.2656,1202.0065,88.1283},
	{658.0195,-19.9271,1202.0065,95.3806},
	{658.0867,-18.5737,1202.0065,91.2432},
	{657.9698,-17.1763,1202.0065,86.1603},
	{657.9597,-15.7057,1202.0065,84.2969},
	{659.8179,-24.2285,1202.0065,97.1499},
	{659.8176,-22.7403,1202.0065,89.8857},
	{659.8594,-21.2255,1202.0065,96.2004},
	{659.7872,-19.9437,1202.0065,93.9264},
	{659.6992,-18.5989,1202.0065,98.0325},
	{659.8498,-17.2191,1202.0065,100.1802},
	{659.6922,-15.7608,1202.0065,94.2108},
	{661.3212,-15.6919,1202.0065,94.1476},
	{661.1964,-17.1286,1202.0065,95.6958},
	{661.1354,-18.5465,1202.0065,89.7893},
	{661.0357,-19.8883,1202.0065,88.5260},
	{661.2415,-21.2154,1202.0065,88.8735},
	{661.1445,-22.6371,1202.0065,89.7242},
	{661.1866,-24.2667,1202.0065,97.0495},
	{665.4763,-16.0913,1202.0065,99.4205},
	{665.4597,-17.4453,1202.0065,99.6733},
	{665.4302,-18.6400,1202.0065,92.4090},
	{669.4584,-22.8351,1202.0065,3.9097},
	{675.5197,-22.7978,1202.0065,2.9624},
	{687.2118,-10.9152,1201.8580,178.6974},
	{690.5508,-10.9454,1201.8580,182.6773},
	{701.6777,-10.6375,1201.8580,177.8448},
	{703.5426,-10.4489,1201.8580,188.2993},
	{708.9093,-12.0866,1201.8580,92.3753},
	{706.1021,-12.6310,1201.8580,293.5695},
	{706.0652,-11.4641,1201.8580,262.2675},
	{703.4027,-30.1819,1201.8580,1.8190},
	{701.6513,-29.9844,1201.8580,4.6639},
	{708.8453,-28.6042,1201.8580,92.6131},
	{706.0217,-28.9619,1201.8580,273.3089},
	{706.1915,-27.8287,1201.8580,267.9736},

	// Автосалоны

	{-190.3984,12.4538,1201.9387,272.2487},
	{-189.2204,13.8302,1201.9387,178.8403},
	{-188.2582,12.6424,1201.9387,92.8768},
	{-184.9411,-8.2637,1202.0325,270.0648},
	{-183.9805,-9.4480,1202.0394,1.2396},
	{-182.7340,-8.1274,1202.0325,90.3299},
	{-189.4035,1.4333,1202.3918,273.4895},
	{-188.5412,0.2403,1202.3918,1.1404},
	{-187.3746,1.5965,1202.3918,91.9182},
	{-185.2732,1.4131,1202.3918,270.2476},
	{-184.2763,0.1383,1202.3918,1.3728},
	{-183.1702,1.5978,1202.3918,92.2995},
	{-207.3710,-4.8068,1202.0090,270.4463},
	{-206.1916,-3.4010,1202.0090,181.8524},
	{-205.1250,-4.8758,1202.0090,87.6003},
	{-202.1185,-4.9077,1202.0090,271.4546},
	{-200.8786,-3.4573,1202.0090,183.4065},
	{-199.8074,-4.7839,1202.0090,92.9761},
	{-217.8165,-4.7673,1202.0090,268.7403},
	{-216.5321,-3.5839,1202.0090,184.2659},
	{-215.5993,-4.9167,1202.0090,89.8153},
	{-223.0685,-4.8889,1202.0090,271.7339},
	{-221.8658,-3.5511,1202.0090,179.3679},
	{-220.7903,-4.7752,1202.0090,91.8163},
	{-209.7929,5.5321,1202.0160,92.0802},
	{-210.9511,3.9769,1202.0090,359.7141},
	{-211.9315,5.4145,1202.0160,271.7653},
	{-11.9078,361.6210,1601.7964,177.8449},
	{-13.1367,361.5519,1601.7964,183.3045},
	{-11.9250,359.7695,1601.7964,357.8122},
	{-13.1034,359.7141,1601.7964,5.0090},
	{-16.8704,317.7151,1601.7964,357.7130},
	{-18.0355,317.8008,1601.7964,0.7406},
	{-18.1179,319.2976,1601.7964,180.9222},
	{-16.9063,319.5415,1601.7964,179.9296},
	{9.3833,355.1734,1609.6011,81.8897},
	{8.1200,354.9316,1609.6011,278.0529},
	{9.6796,356.8311,1609.6011,231.0183},
	{8.2402,356.4191,1609.6011,231.3331},
	{29.2160,333.6601,1609.6011,312.6806},
	{31.3254,333.7098,1609.6011,61.5246},
	{16.7191,328.3659,1609.6171,39.3389},
	{16.9878,329.1076,1609.6171,120.1405},
	{15.0549,329.1815,1609.6171,230.5728},
	{8.6263,332.3792,1609.5936,90.3950},
	{8.6253,333.8814,1609.5936,89.9979},
	{8.6261,336.7376,1609.5936,86.0273},
	{8.6373,338.4832,1609.6011,88.2608},


	// Новогодние

	{-194.5896,385.2731,1202.1244,90.2879},
	{-194.5882,384.1295,1202.1244,92.7244},
	{-194.5871,382.4160,1202.1244,89.2050},
	{-194.5884,381.4572,1202.1244,93.6042},
	{-194.5886,378.5701,1202.1244,89.9495},
	{-194.5902,377.7208,1202.1244,94.8902},
	{-194.3676,375.8969,1202.1244,97.1236},
	{-194.3408,374.8683,1202.1244,97.1236},
	{-191.4907,375.3719,1202.1244,6.5599},
	{-190.4539,375.2848,1202.1244,6.5599},
	{-190.4608,378.2881,1202.1244,177.4550},
	{-191.5827,378.3380,1202.1244,177.4550},
	{-191.5069,382.0859,1202.1244,4.6585},
	{-190.5694,381.9586,1202.1244,4.6585},
	{-190.4758,385.1019,1202.1244,177.2438},
	{-191.4095,384.9436,1202.1244,177.2438},
	{-200.4916,385.2665,1202.1244,86.0107},
	{-200.5630,384.2429,1202.1244,86.0107},
	{-200.4897,382.3752,1202.1244,86.0107},
	{-200.4593,381.3306,1202.1244,86.0107},
	{-197.4699,381.4426,1202.1244,264.7569},
	{-197.3754,382.4723,1202.1244,264.7569},
	{-197.3162,384.2212,1202.1244,264.7569},
	{-197.2151,385.2657,1202.1244,269.3565},
	{-200.4858,378.6523,1202.1244,95.1474},
	{-200.3933,377.6255,1202.1244,95.1474},
	{-200.4386,375.8654,1202.1244,95.1474},
	{-200.3374,374.7420,1202.1244,95.1474},
	{-203.3136,374.7177,1202.1244,266.7242},
	{-203.3512,375.8427,1202.1244,270.6494},
	{-203.3723,377.7065,1202.1244,270.6494},
	{-203.3840,378.7374,1202.1244,270.6494},
	{-203.4136,381.3452,1202.1244,270.6494},
	{-203.4276,382.5820,1202.1244,270.6494},
	{-203.4464,384.2329,1202.1244,270.6494},
	{-203.4592,385.3628,1202.1244,270.6494},
	{-424.1793,757.1846,1206.0798,96.2268},
	{-424.4071,756.1296,1206.0798,96.2268},
	{-424.3181,755.3145,1206.0798,96.2268},
	{-424.2394,754.5938,1206.0798,96.2268},
	{-419.0098,743.1686,1201.9314,181.6569},
	{-418.1953,743.2859,1201.9314,182.1013},
	{-417.4797,743.3122,1201.9314,182.1013},
	{-416.7622,743.3385,1201.9314,182.1013},
	{-415.6915,741.2750,1201.9314,90.8271},
	{-415.6812,740.5590,1201.9314,90.8271},
	{-415.6691,739.7231,1201.9314,90.8271},
	{-415.6587,739.0061,1201.9314,90.8271},

	{1138.6118,986.2225,12.5000,6.2245},
	{1139.9281,986.3256,12.5000,20.0991},
	{1136.4803,987.2374,12.4923,315.7349},
	{1135.7980,988.1642,12.5000,305.4476},
	{1135.5488,990.7363,12.5000,260.5752},
	{1136.0164,991.7617,12.5000,234.3151},
	{1138.2000,993.2665,12.5000,192.4209},
	{1144.5696,982.5824,12.5000,283.9250},
	{1145.9946,980.3086,12.5000,328.5942},
	{1147.0288,979.7888,12.5000,341.9950},
	{1149.5444,979.9349,12.5000,29.8451},
	{1150.5103,980.5674,12.5000,38.1021},
	{1151.6377,982.7172,12.5000,86.8999},
	{1151.5848,983.9767,12.5000,94.8185},
	{1150.2969,986.0212,12.5000,139.7584},
	{1148.1035,986.7823,12.5000,170.9592},
	{1145.8643,986.0063,12.5000,227.8787},
	{1145.0496,985.0895,12.5000,234.3828},
	{1154.0742,997.9104,12.5000,184.9691},
	{1156.3115,997.1606,12.5000,147.8801},
	{1157.6239,995.0783,12.5000,100.8420},
	{1157.6597,993.7441,12.5000,85.7493},
	{1156.5653,991.7074,12.5000,37.5606},
	{1155.5366,991.0375,12.5000,20.0313},
	{1153.1492,991.1508,12.5000,341.3817},
	{1152.1494,991.4875,12.5000,341.3817},
	{1151.3989,840.2421,12.2500,193.8593},
	{1152.7212,840.0961,12.2500,154.604},
	{1152.6604,838.0923,12.2500,29.3955},
	{1151.5427,838.0844,12.2500,347.0273},
	{1160.5063,828.3752,12.2500,149.6641},
	{1160.5560,826.1859,12.2500,17.7545},
	{1159.2477,826.2236,12.2500,342.2899},
	{1156.9045,818.6910,12.2500,17.4162},
	{1155.6248,818.7832,12.2500,346.0125},
	{1150.1603,832.6084,12.2500,159.2816},
	{1148.7988,832.7474,12.2500,196.4383},
	{1148.9193,830.6232,12.2500,334.7776},
	{1150.1936,830.4167,12.2500,16.9426},
	{1146.1426,824.2184,12.2500,19.3859},
	{1144.7202,824.2417,12.2500,338.4391},
	{1144.6613,826.5286,12.2500,185.2102},
	{1146.0039,826.3775,12.2500,157.9350},
	{1137.0142,824.1973,12.2500,12.6857},
	{1135.5719,824.2668,12.2500,345.6811},
	{1135.6089,826.5233,12.2500,195.7008},
	{1137.1172,826.3300,12.2500,165.2445},
	{1129.4998,818.8865,12.2500,12.1442},
	{1128.0823,818.9078,12.2500,342.0264},
	{1127.9675,821.1854,12.2500,194.6180},
	{1129.4731,821.2740,12.2500,160.1008},
	{1121.6835,813.8369,12.2500,17.4301},
	{1120.2743,813.8934,12.2500,346.5677},
	{1120.2306,816.1457,12.2500,179.2612},
	{1121.5308,816.0860,12.2500,150.5645},
	{1114.5852,827.8975,12.2500,343.9958},

	{1115.9561,827.8285,12.2500,21.1525},
	{1116.0106,830.2500,12.2570,159.2211},
	{1114.5121,830.4276,12.2570,188.7290},

	{-427.9362,738.5259,1202.0164,270.8996}, // Дед мороз

	{781.3328,751.5971,12.9307,71.1617},
	{2574.2786,-2080.2368,21.9640,200.3264},
	{1757.6349,2241.9365,15.8610,10.6781},
	{-2484.2024,2787.1370,37.6340,276.3829},
	{-2243.4846,264.0609,24.5337,170.8969},
	{1155.5193,821.0392,12.2500,185.3450},
	{1156.9476,820.9161,12.2500,164.5579},
	{1159.1493,828.5179,12.2500,191.5717},
	{1123.3519,826.3425,12.2500,341.6329},
	{1124.4418,826.1586,12.2500,23.3919},

	{-197.1994,378.5612,1202.1244,264.6741},
	{-197.1984,377.4567,1202.1244,275.2998},
	{-197.2022,375.8560,1202.1244,265.0801},
	{-197.2024,374.8333,1202.1244,269.4117},
	{1123.2076,828.5244,12.2500,186.9820},
	{1124.5018,828.5066,12.2500,143.5312},
	{1131.9470,834.6972,12.2500,337.2264},
	{1132.9813,834.7366,12.2500,18.6469},
	{1133.0980,836.7109,12.2500,144.1268},
	{1131.6549,836.8707,12.2500,198.5420},
	{1141.4575,834.7283,12.2500,22.7074},
	{1140.3341,834.7329,12.2500,347.9196},
	{1140.3661,836.8068,12.2500,195.7736},
	{1141.5421,836.7289,12.2500,157.0603},


	// ФСБ

	{1276.5465,-211.5322,1201.9819,98.2143},
	{1276.5623,-214.0096,1201.9819,95.2768},
	{1276.4937,-215.0307,1201.9819,94.8348},
	{1276.5394,-217.7822,1201.9819,95.4326},
	{1271.8191,-213.7394,1201.9819,223.0039},
	{1271.8378,-211.2885,1201.9819,299.9751},
	{1287.2900,-207.6702,1201.9819,182.8922},
	{1288.2115,-207.7194,1201.9819,183.2279},
	{1289.7540,-208.7777,1201.9819,0.6685},
	{1291.0277,-208.8251,1201.9819,4.4271},
	{1295.3247,-208.8325,1201.9819,6.5748},
	{1296.3636,-208.8686,1201.9819,353.7833},
	{1285.6202,-216.3263,1201.9819,269.4851},
	{1285.6470,-213.3386,1201.9819,272.5490},
	{1288.6263,-214.8277,1201.9819,91.4446},
	{1280.4399,-200.5936,1201.9819,94.6955},
	{1280.5419,-196.9615,1201.9819,90.8421},
	{1280.5143,-193.7832,1201.9819,97.1905},
	{1283.7886,-193.7892,1201.9819,274.0964},
	{1283.5327,-197.4050,1201.9819,274.6649},
	{1283.6459,-200.5971,1201.9819,273.8120},
	{1287.1509,-200.5880,1201.9819,96.9985},
	{1287.1085,-196.9848,1201.9819,97.3753},
	{1287.2389,-193.8406,1201.9819,95.3854},
	{1280.6012,-187.2271,1201.9819,359.3377},
	{1283.4775,-187.2335,1201.9819,7.8970},
	{1282.0615,-184.2830,1201.9819,180.5052},
	{1287.2911,-180.2645,1201.9819,3.5385},
	{1290.2727,-180.2613,1201.9819,3.8859},
	{1280.3885,-180.1854,1201.9819,0.3778},
	{1291.3857,-200.6124,1201.9819,94.8171},
	{1291.4388,-196.9872,1201.9819,88.6897},
	{1291.3420,-193.7291,1201.9819,93.6168},
	{1296.4712,-199.6795,1201.9819,275.3507},
	{1303.0675,-198.1254,1201.9819,183.8510},
	{1303.0332,-201.0871,1201.9819,2.4265},
	{1304.3929,-204.2672,1201.9819,5.1772},
	{1305.5315,-204.2845,1201.9819,4.3243},
	{1320.1460,-192.3433,1201.9824,0.6312},
	{1321.4276,-192.4009,1201.9851,6.0344},
	{1322.9432,-207.5174,1202.0017,136.8564},
	{1323.9998,-208.5799,1201.9955,129.3395},
	{1324.9333,-209.8535,1201.9987,110.8943},
	{1325.1757,-211.1388,1201.9984,90.3961},
	{1324.8805,-212.5977,1201.9956,75.3282},
	{1324.1301,-214.2019,1201.9994,51.1345},
	{1322.8656,-215.1718,1201.9955,30.9839},
	{1321.6212,-215.8722,1201.9966,26.7517},
	{1320.0723,-215.9427,1201.9971,347.5852},
	{1318.6055,-215.6710,1202.0000,336.2127},
	{1317.2612,-214.7910,1201.9952,319.5680},
	{1316.4545,-213.7735,1201.9966,299.1017},
	{1316.0382,-212.4590,1202.0020,278.5406},
	{1316.0388,-210.7648,1201.9976,260.5062},
	{1316.4445,-209.2365,1201.9955,247.6514},
	{1317.4449,-208.1518,1201.9962,230.5961},
	{1323.3322,-197.6389,1201.9819,268.7816},
	{1323.3204,-198.6301,1201.9819,273.2032},
	{1323.3203,-199.7344,1201.9819,270.1080},
	{1323.3279,-200.7622,1201.9819,275.3193},
	{1323.3138,-201.7348,1201.9819,271.4661},
	{1321.8871,-201.7067,1201.9819,268.4996},
	{1321.8513,-200.7523,1201.9819,270.9631},
	{1321.7111,-199.7086,1201.9819,274.8160},
	{1321.8524,-198.6550,1201.9819,273.4578},
	{1321.8588,-197.5598,1201.9819,273.3315},
	{1320.3213,-197.6163,1201.9819,273.6474},
	{1320.3046,-198.6567,1201.9819,272.4764},
	{1320.2864,-199.6857,1201.9819,272.8239},
	{1320.3174,-200.7907,1201.9819,272.4449},
	{1320.3080,-201.7985,1201.9819,272.1290},
	{1318.9099,-197.5506,1201.9819,274.1505},
	{1318.9309,-198.7116,1201.9819,272.2239},
	{1318.9191,-199.7364,1201.9819,272.3503},
	{1318.9260,-200.8044,1201.9819,272.1924},
	{1318.9209,-201.8120,1201.9819,272.5397},
	{1317.4415,-197.5497,1201.9819,271.2111},
	{1317.4371,-198.6819,1201.9819,271.7480},
	{1317.4374,-199.6535,1201.9819,271.0531},
	{1317.4640,-200.8111,1201.9819,271.0531},
	{1317.4613,-201.8132,1201.9819,270.9900},


    // Квартира низкого класса

    {-2390.9094,-441.5038,33.2339,89.8572},
    {-2390.9124,-440.2440,33.2339,92.1403},
    {-2390.9163,-438.9011,33.2339,90.8995},
    {-2397.8633,-446.2845,33.2104,269.6260}
};

stock create_seat_down_text()
{
	for(new i; i < sizeof(seat_down_all); i ++)
	{
		CreateDynamic3DTextLabel(""cWH"Сесть\n"cBLUE"[ALT]",-1, \
		seat_down_all[i][0], seat_down_all[i][1], seat_down_all[i][2], 2.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1);	
	}
	return true;
}


new Float:leg_down_all[][4] =
{
	// Отель Номер

	{-2033.8782,1978.9119,1164.0964,183.5011}
};

stock create_leg_down_text()
{
	for(new i; i < sizeof(leg_down_all); i ++)
	{
		CreateDynamic3DTextLabel(""cWH"Лечь\n"cBLUE"[ALT]",-1, \
		leg_down_all[i][0], leg_down_all[i][1], leg_down_all[i][2], 2.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1);	
	}
	return true;
}


stock clear_player(playerid)
{
	memcpy(pData[playerid], player_default, 0, sizeof(player_default)*4, sizeof(pData[]));

	ResetPlayerWeapons(playerid);
	return true;
}


stock SetPlayerPosEx(playerid, Float:x, Float:y, Float:z, Float:ang)
{
	SetPlayerPos(playerid, x, y, z+0.3);
	SetPlayerFacingAngle(playerid, ang);
	update_spec_for_all(playerid);

	TogglePlayerControllable(playerid, false);
	ControllableTimer[playerid] = SetTimerEx("ToggleControllable", GetPlayerPing(playerid) + 2000, false, "ii", playerid, 1);

	return true;
}

stock SetVehiclePosEx(vehicleid, Float:x, Float:y, Float:z, Float:ang)
{

	SetVehiclePos(vehicleid, x, y, z);
	SetVehicleZAngle(vehicleid, ang);

	return true;
}


stock create_circle_pickup(Float:x, Float:y ,Float:z, color = 0, sphere = -1, vw = -1)
{
	new 
		brp_obj = CreateDynamicObject(1317, x, y, z - 1.8844, 0.0, 0.0, 0.0, vw);

	

	switch(color)
	{
		case TRIGGER_BLACK: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "black", 0xFFFFFFFF);
		case TRIGGER_BLUE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "blue", 0xFFFFFFFF);
		case TRIGGER_GREEN: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "green", 0xFFFFFFFF);
		case TRIGGER_GREY: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "grey", 0xFFFFFFFF);
		case TRIGGER_LBLUE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "lightblue", 0xFFFFFFFF);
		case TRIGGER_ORANGE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "samporange", 0xFFFFFFFF);
		case TRIGGER_RED: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "red-2", 0xFFFFFFFF);
		case TRIGGER_LRED: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "red-3", 0xFFFFFFFF);
		case TRIGGER_WHITE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "white", 0xFFFFFFFF);
		case TRIGGER_YELLOW: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "yellow", 0xFFFFFFFF);
	}
	return CreateDynamicSphere(x, y, z, 1.0, sphere);
}

stock create_circle_pickup_big(Float:x, Float:y ,Float:z, color = 0)
{
	new 
		brp_obj = CreateDynamicObject(1317, x, y, z - 1.8844, 0.0, 0.0, 0.0);

	switch(color)
	{
		case TRIGGER_BLACK: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "black", 0xFFFFFFFF);
		case TRIGGER_BLUE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "blue", 0xFFFFFFFF);
		case TRIGGER_GREEN: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "green", 0xFFFFFFFF);
		case TRIGGER_GREY: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "grey", 0xFFFFFFFF);
		case TRIGGER_LBLUE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "lightblue", 0xFFFFFFFF);
		case TRIGGER_ORANGE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "samporange", 0xFFFFFFFF);
		case TRIGGER_RED: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "red-2", 0xFFFFFFFF);
		case TRIGGER_LRED: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "red-3", 0xFFFFFFFF);
		case TRIGGER_WHITE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "white", 0xFFFFFFFF);
		case TRIGGER_YELLOW: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "yellow", 0xFFFFFFFF);
	}
	return CreateDynamicSphere(x, y, z, 3.0);
}


stock create_circle_pickup_o(Float:x, Float:y ,Float:z, color = 0)
{
	new 
		brp_obj = CreateDynamicObject(1317, x, y, z - 1.8844, 0.0, 0.0, 0.0);

	switch(color)
	{
		case TRIGGER_BLACK: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "black", 0xFFFFFFFF);
		case TRIGGER_BLUE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "blue", 0xFFFFFFFF);
		case TRIGGER_GREEN: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "green", 0xFFFFFFFF);
		case TRIGGER_GREY: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "grey", 0xFFFFFFFF);
		case TRIGGER_LBLUE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "lightblue", 0xFFFFFFFF);
		case TRIGGER_ORANGE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "samporange", 0xFFFFFFFF);
		case TRIGGER_RED: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "red-2", 0xFFFFFFFF);
		case TRIGGER_LRED: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "red-3", 0xFFFFFFFF);
		case TRIGGER_WHITE: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "white", 0xFFFFFFFF);
		case TRIGGER_YELLOW: SetDynamicObjectMaterial(brp_obj, 0, 18646, "matcolours", "yellow", 0xFFFFFFFF);
	}
	return true;
}



stock GivePlayerWeaponEx(playerid, weapoind, ammo_ex)
{
	new
		slot_ex = get_weapon_slot(weapoind),
		ammo_s,
		weap;

	GetPlayerWeaponData(playerid, slot_ex, weap, ammo_s);

	if(weapoind == weap)
	{
		ACInfo[playerid][acAmmo][slot_ex] = ammo_ex + ammo_s;

		SetPlayerAmmo(playerid, weapoind, ACInfo[playerid][acAmmo][slot_ex]);
	}
	else
	{

		ACInfo[playerid][acWeapon][slot_ex] = weapoind;
		ACInfo[playerid][acAmmo][slot_ex] = ammo_ex;

		GivePlayerWeapon(playerid, weapoind, ammo_ex);
	}
	return true;
}


stock ResetPlayerWeaponsEx(playerid)
{
	for(new i; i < 13; i++)
	{
		ACInfo[playerid][acWeapon][i] = ACInfo[playerid][acAmmo][i] = 0;
	}
	ResetPlayerWeapons(playerid);
	return true;
}

stock RemovePlayerWeapon(playerid, weaponid)
{
    if(!IsPlayerConnected(playerid) || weaponid < 0 || weaponid > 50) return true;

    new 
    	saveweapon[13], saveammo[13];

    for(new i; i < 13; i++)
    {
        saveweapon[i] = ACInfo[playerid][acWeapon][i];
        saveammo[i] = ACInfo[playerid][acAmmo][i];
    }

    ResetPlayerWeaponsEx(playerid);

    for(new i; i < 13; i++)
    {
        if(saveweapon[i] == weaponid || !saveammo[i]) continue;
        GivePlayerWeaponEx(playerid, saveweapon[i], saveammo[i]);
    }
    return true;
}


stock get_weapon_slot(weaponid)
{
	switch(weaponid)
	{
		case 0, 1: return 0;
		case 2..9: return 1;
		case 22..24: return 2;
		case 25..27: return 3;
		case 28..29, 32: return 4;
		case 30..31: return 5;
		case 33..34: return 6;
		case 35..38: return 7;
		case 16..18, 39: return 8;
		case 41..43: return 9;
		case 10..15: return 10;
		case 44..45: return 11;
		case 40: return 12;
	}
	return true;
}

stock show_stats(playerid, giveplayerid)
{

	if(playerid == giveplayerid)
	{
		giveplayerid = playerid;
	}


	new
		mes_show_stats[1400],
		mstatus[MAX_PLAYER_NAME+1+11],
		fraction[32],
		job[32],
		cars[42],
		houseinfo[45],
		kvartinfo[45],
		hotelinfo[12],
		garageinfo[12],
		bizinfo[40],
		fillinfo[12],
		hinfo[40],
		casinfo[12],
		tkinfo[40],
		mehinfo[40],
		taxinfo[40],
		year,
		month,
		day,
		hour,
		minute,
		second,
		mes[100];

    if(pData[giveplayerid][pFraction] && pData[giveplayerid][pRank] > 0)
	{
		new fractionid = pData[giveplayerid][pFraction]-1;
		new rank = pData[giveplayerid][pRank];
		strcat(fraction,gFractionName[fractionid]);
		if(pData[giveplayerid][pSubfraction] > 0)
		{
			if(fractionid+1 == 8 && pData[playerid][pSubfraction] == 3 && rank <= 12)	strcat(job, gVmfRankName[rank-1]);
			else 
			{
				new frid = GetSubfractionID(fractionid);
				new subid = pData[giveplayerid][pSubfraction]-1;
				if( frid >= 0 )
				{
					strcat(job,gSubfractionName[frid][subid]);
					strcat(job, " / ");
					strcat(job, gFractionRankName [ fractionid ] [ rank-1 ] );
				}
				else format(job, 32, "Отсутствует");
			}
		}
		else if(fractionid+1 == 11 && !pData[playerid][pSubfraction] && rank <= 9 && rank > 0)
			strcat(job, gPrezRankName[rank-1]);
		else if(fractionid+1 == 8 && pData[playerid][pSubfraction] == 3 && rank <= 12 && rank > 0)
			strcat(job, gVmfRankName[rank-1]);

		else strcat(job,gFractionRankName[fractionid][rank-1]);
	}
	else format(fraction, 32, "Отсутствует");

	if(pData[giveplayerid][pJob] && !pData[giveplayerid][pFraction]) format(job, 32, "%s", get_job_name(pData[giveplayerid][pJob]));
	if(!pData[giveplayerid][pJob] && !pData[giveplayerid][pFraction]) format(job, 32, "Отсутствует");


	if(pData[giveplayerid][car_sql_1] != INVALID_VEHICLE_ID)
	{
		format(cars, sizeof(cars), "№%i", pData[giveplayerid][car_sql_1]);
	}
	else
	{
		format(cars, sizeof(cars), "Отсутствует");
	}


	if(pData[giveplayerid][pHouse] != -1 && pData[giveplayerid][pHouseRent] == -1)
	{
		format(houseinfo, sizeof(houseinfo), "Дом:\t\t\t"cBLUE"№%i",pData[giveplayerid][pHouse]+1);
	}
	else if(pData[giveplayerid][pHouseRent] != -1 && pData[giveplayerid][pHouse] == -1)
	{
		format(houseinfo, sizeof(houseinfo), "Комната в доме:\t\t"cBLUE"№%i",pData[giveplayerid][pHouseRent]+1);
	}
	else 
	{
		format(houseinfo, sizeof(houseinfo), "Отсутствует");
	}

	if(pData[giveplayerid][pFlate] != -1 && pData[giveplayerid][pFlateRent] == -1)
	{
		format(kvartinfo, sizeof(kvartinfo), "Квартира:\t\t\t"cBLUE"№%i",pData[giveplayerid][pFlate]+1);
	}
	
	else if(pData[giveplayerid][pFlateRent] != -1 && pData[giveplayerid][pFlate] == -1)
	{
		format(kvartinfo, sizeof(kvartinfo), "Комната в квартире:\t\t"cBLUE"№%i",pData[giveplayerid][pFlateRent]+1);
	}
	else kvartinfo = "Отсутствует";


	if(pData[giveplayerid][pHotelRoom] != -1)
	{
		format(hotelinfo, sizeof(hotelinfo), "№%i", pData[giveplayerid][pHotelRoom]);
	}
	else 
	{

	}
	
	if(pData[giveplayerid][pGarage] != -1)
		format(garageinfo, sizeof(garageinfo), "№%i", pData[giveplayerid][pGarage]+1);
	else 
	{
		format(garageinfo, sizeof(garageinfo), "Отсутствует");

	}

	if(pData[giveplayerid][pBusiness] != -1)
		format(bizinfo, sizeof(bizinfo), "№%i", pData[giveplayerid][pBusiness]+1);
	else
		bizinfo = "Отсутствует";

	if(pData[giveplayerid][pHotelOwner] != -1)
		format(hinfo, sizeof(hinfo), "№%i", pData[giveplayerid][pHotelOwner]+1);
	else
		hinfo = "Отсутствует";

	if(pData[giveplayerid][pFillStation] != -1)
		format(fillinfo, sizeof(fillinfo), "№%i", pData[giveplayerid][pFillStation]+1);
	else
	{
		format(fillinfo, sizeof(fillinfo), "Отсутствует");
	}

	if(pData[giveplayerid][pCasinoOwner] != -1)
		format(hinfo, sizeof(hinfo), "Казино Diamond (№%i)", pData[giveplayerid][pCasinoOwner]);
	else
		hinfo = "Отсутствует";


	if(pData[giveplayerid][pTruckerOwnerID] != -1)
	{
		new tkname[32];
		switch(pData[giveplayerid][pTruckerOwnerID] != -1)
		{
			case 0: format(tkname, sizeof(tkname), "Транспортная Компания №1");
			case 1: format(tkname, sizeof(tkname), "Транспортная Компания №2");
			case 2: format(tkname, sizeof(tkname), "Транспортная Компания №3");
		}
		format(tkinfo, sizeof(tkinfo), "%s (№%i)", tkname, pData[giveplayerid][pTruckerOwnerID]+1);
	}
	else
	{
		tkinfo = "Отсутствует";
	}

	if(pData[giveplayerid][pMechOwnerID] != -1)
	{
		new mehname[32];
		switch(pData[giveplayerid][pMechOwnerID] != -1)
		{
			case 0: mehname = "СТО №1";
			case 1: mehname = "СТО №2";
			case 2: mehname = "СТО №3";
		}
		format(mehinfo, sizeof(mehinfo), "%s (№%i)", mehname, pData[giveplayerid][pMechOwnerID]+1);
	}
	else
		mehinfo = "Отсутствует";

	if(pData[giveplayerid][pTaxiOwnerID] != -1)
	{
		new taxiname[32];
		switch(pData[giveplayerid][pTaxiOwnerID])
		{
			case 0: taxiname = "ЯндексGo";
			case 1: taxiname = "UBER";
			case 2: taxiname = "СитиМобил";
		}
		format(taxinfo, sizeof(taxinfo), "%s (№%i)", taxiname, pData[giveplayerid][pTaxiOwnerID]+1);
	}
	else
	{
		taxinfo = "Отсутствует";
	}

	format(mes,sizeof(mes),""cWH"Номер аккаунта:"cBLUE"\t\t%i\n", pData[giveplayerid][pMysqlID]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Имя:\t\t\t\t"cBLUE"%s\n", pData[giveplayerid][pNickname]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Уровень:\t\t\t"cBLUE"%i\n", pData[giveplayerid][pLevel]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Очки опыта:\t\t\t"cBLUE"%i из %i\n", pData[giveplayerid][pExp],pData[giveplayerid][pLevel]*6);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Пол:\t\t\t\t"cBLUE"%s\n", pData[giveplayerid][pSex] == 1 ? ("Мужской") : ("Женский"));
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Возраст:\t\t\t"cBLUE"%i\n", pData[giveplayerid][pAge]);
	strcat(mes_show_stats,mes);


	if(pData[giveplayerid][pMarried] != 0 && pData[giveplayerid][pSex] == 1) 
	{
		format(mstatus,sizeof(mstatus),"Женат на: "cBLUE"%s",mstatus, pData[giveplayerid][pDivorce]);
	}
	else if(pData[giveplayerid][pMarried] != 0 && pData[giveplayerid][pSex] == 2) 
	{
		format(mstatus,sizeof(mstatus),"Замужем на: "cBLUE"%s",mstatus, pData[giveplayerid][pDivorce]);
	}
	else if(pData[giveplayerid][pMarried] == 0 || pData[giveplayerid][pMarried] == -1)
	{
		format(mstatus,sizeof(mstatus),"%s", pData[giveplayerid][pSex] == 1 ? ("Холост") : ("Не замужем"));
	}

	format(mes,sizeof(mes),""cWH"Семейное положение:\t\t"cBLUE"%s\n\n", mstatus);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Предупреждений:\t\t"cBLUE"%i\n", pData[giveplayerid][pWarn]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Законопослушность:\t\t"cBLUE"%i\n", pData[giveplayerid][pZakon]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Уровень розыска:\t\t"cBLUE"%i\n\n", pData[giveplayerid][pWanted]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Номер телефона:\t\t"cBLUE"%i\n", pData[giveplayerid][pPhone]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"На счету телефона:\t\t"cBLUE"%i\n\n", pData[giveplayerid][pPhoneMoney]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Организация:\t\t\t"cBLUE"%s\n", fraction);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Работа/Должность:\t\t"cBLUE"%s\n", job);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Ранг:\t\t\t\t"cBLUE"%i\n", pData[giveplayerid][pRank]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Выговоры:\t\t\t"cBLUE"%i\n\n", pData[giveplayerid][pFWarn]);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Автомобиль:\t\t\t"cBLUE"%s\n\n", cars);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"%s\n", houseinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"%s\n", kvartinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Номер в отеле:\t\t"cBLUE"%s\n", hotelinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Гараж:\t\t\t\t"cBLUE"%s\n\n", garageinfo);
	strcat(mes_show_stats,mes);

	format(mes,sizeof(mes),""cWH"Бизнес:\t\t\t"cBLUE"%s\n", bizinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"АЗС:\t\t\t\t"cBLUE"%s\n", fillinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Отель:\t\t\t\t"cBLUE"%s\n", hinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Казино:\t\t\t\t"cBLUE"%s\n", casinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Транспортная Компания:\t"cBLUE"%s\n", tkinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"СТО:\t\t\t\t"cBLUE"%s\n", mehinfo);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Таксопарк:\t\t\t"cBLUE"%s\n\n", taxinfo);
	strcat(mes_show_stats,mes);

	format(mes,sizeof(mes),""cWH"Новогодних снежков:\t\t"cBLUE"%d штук\n\n", pData[giveplayerid][pCountSnow]);
	strcat(mes_show_stats,mes);

	getdate(year, month, day);
	gettime(hour,minute,second);
	format(mes,sizeof(mes),""cWH"Время:\t\t\t\t"cBLUE"%02d:%02d:%02d\n", hour, minute, second);
	strcat(mes_show_stats,mes);
	format(mes,sizeof(mes),""cWH"Дата:\t\t\t\t"cBLUE"%02d.%02d.%02d\n", day, month, year);
	strcat(mes_show_stats,mes);
	SPD(playerid, 0, 0, ""cBLUE"Статистика персонажа",mes_show_stats,"Закрыть", "");
	return true;
}

stock IsEMail(text[])
{
	new len = strlen(text), dogs, enable;
	if(len < 5 || len > 30) return false;
	for(new i; i < len; i++){
		switch(text[i]){
			case '@': enable++, dogs++;
			case 'A'..'Z', 'a'..'z', '0'..'9', '_', '.', '-': enable ++;
		}
	}
	if(dogs != 1) return false;
	if(enable != len) return false;
	return true;
}


stock IsRPNick(name[]) 
{
    if (!('A' <= name[0] <= 'Z'))
        return 0;
    new i = 1, len = 1, __ = 0;
    for (; ; ++i)
        switch (name[i])
        {
            case 'a'..'z':
                ++len;
            case '_':
            {
                if ((__ != 0) || (len < 2) || !('A' <= name[++i] <= 'Z'))
                    return 0;
                ++__, len = 1;
            }
            case '\0':
                break;
            default:
                return 0;
        }
    return _:((__ != 0) && (len >= 2));
} 

stock IsARPName(Name[])
{
	new simb_, RP_Name[2][24];
	new playerid;
	for(new i = 0; i < strlen(Name); i++)
	{
	    if(Name[i] == '_') simb_++;
	}
	if(simb_ != 1) return 0;
	sscanf(Name,"p<_>s[24]s[24]", RP_Name[0], RP_Name[1]);
	if(!IsAGoodName(RP_Name[0]) || !IsAGoodName(RP_Name[1])) return 0;
	if(IsPlayerNPC(playerid)) return 1;
	return 1;
}

stock IsAGoodName(Name[])
{
	new playerid;
	new NameChars;
	if(IsPlayerNPC(playerid))return 1;
	if(strlen(Name) < 2) return 0;
	if(Name[0] < 'A' || Name[0] > 'Z') return 0;
	for(new i = 1;i < strlen(Name);i ++)
	{
	    if(Name[i] < 'a' || Name[i] > 'z')
		{
		    if(Name[i] >= 'A' && Name[i] <= 'Z') NameChars ++;
		    else return 0;
		}
	    if(NameChars > 3) return 0;
	}
	return 1;
}


stock check_no_valid_symbol_text(text[])
{
	for(new i = 0, idx = strlen(text); i < idx; i++)
	{
	    if(text[i] == '{') return true;
		if(text[i] == '\0') return true;
		if(text[i] == '%') return true;
		if(text[i] == '#') return true;
		if(text[i] == '}') return true;

	}
	return false;
}

stock check_sql_injection_text(text[])
{
    for(new i = 0, idx = strlen(text); i < idx; i++)
	{
	    if(text[i] == '\'') return true;
	}
	return false;
}

stock explode(aExplode[][], const sSource[], const sDelimiter[] = " ", iVertices = sizeof aExplode, iLength = sizeof aExplode[])
{
	new
		iNode,
		iPointer,
		iPrevious = -1,
		iDelimiter = strlen(sDelimiter);

	while(iNode < iVertices)
	{
		iPointer = strfind(sSource, sDelimiter, false, iPointer);

		if(iPointer == -1)
		{
			strmid(aExplode[iNode], sSource, iPrevious, strlen(sSource), iLength);
			break;
		}
		else
		{
			strmid(aExplode[iNode], sSource, iPrevious, iPointer, iLength);
		}

		iPrevious = (iPointer += iDelimiter);
		++iNode;
	}

	return iPrevious;
}

stock GetCoordBonnetVehicle(vehicleid, &Float:x, &Float:y, &Float:z)
{
    new Float:angle,Float:distance;
    GetVehicleModelInfo(GetVehicleModel(vehicleid), 1, x, distance, z);
    distance = distance/2 + 0.1;
    GetVehiclePos(vehicleid, x, y, z);
    GetVehicleZAngle(vehicleid, angle);
    x -= (distance * floatsin(-angle+180, degrees));
    y -= (distance * floatcos(-angle+180, degrees));
    return 1;
}

stock GetCoordBootVehicle(vehicleid, &Float:x, &Float:y, &Float:z)
{
    new Float:angle,Float:distance;
    GetVehicleModelInfo(GetVehicleModel(vehicleid), 1, x, distance, z);
    distance = distance/2 + 0.1;
    GetVehiclePos(vehicleid, x, y, z);
    GetVehicleZAngle(vehicleid, angle);
    x += (distance * floatsin(-angle+180, degrees));
    y += (distance * floatcos(-angle+180, degrees));
    return 1;
}

forward IsVehicleOccupied(vehicleid);
public IsVehicleOccupied(vehicleid)
{
	foreach(Player, i){
		if(!IsPlayerInAnyVehicle(i)) continue;
		if(IsPlayerInVehicle(i, vehicleid)) return true;
	}
	return false;
}

forward GetPlayerSpeed(i);
public GetPlayerSpeed(i)
{
	new Float:speedX, Float:speedY, Float:speedZ;
	if(IsPlayerInAnyVehicle(i))
		GetVehicleVelocity(GetPlayerVehicleID(i), speedX, speedY, speedZ);
	else 
		GetPlayerVelocity(i, speedX, speedY, speedZ);
	
	return floatround(VectorSize(speedX, speedY, speedZ) * 179.28625);

}

stock flip_vehicle(vehicleid)
{
    if(vehicleid == INVALID_VEHICLE_ID)
        return 0;

    new
        Float:x,
        Float:y,
        Float:z,
        Float:a;

    GetVehiclePos(vehicleid, x, y, z); 
    GetVehicleZAngle(vehicleid, a);

    SetVehiclePos(vehicleid, x, y, z + 1.0);
    SetVehicleZAngle(vehicleid, a);

    return 1;
}

stock offer_player(playerid, to_playerid, action)
{
	if(pTemp[to_playerid][offer_time]) 
		return SendInf(playerid, "Ошибка: "cWH"У игрока есть активные предложения");

	if(GetPVarIntNew(to_playerid, "OfferTradeSim") || GetPVarIntNew(to_playerid, "RecieveTradeSim"))
		return SendInf(playerid, "Ошибка: "cWH"У игрока есть активные предложения");


	if(GetPVarIntNew(playerid, "offer_cooldown") > gettime()) 
		return SendInf(playerid, "Ошибка: "cWH"Делать предложения игроку можно раз в 5 секунд!");

	if(playerid == to_playerid) 
		return SendInf(playerid, "Вы не можете сделать предложение самому себе");

	if(!PlayerDistance(5.0, playerid, to_playerid)) 
		return TooFar(playerid);

	switch(action)
	{
		case OFFER_PASS:
		{
			new 
				fmt_str[144];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s посмотреть Ваш паспорт", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);

		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам посмотреть его паспорт", pData[playerid][pNickname]);
		    SendInf(to_playerid, fmt_str);		

		    SendInf(to_playerid, "Используйте "cGR"«Y»"cWH", чтобы согласиться или "cLRED"«N»"cWH", чтобы отказаться от предложения");

		}

		case OFFER_LIC:
		{
			new 
				fmt_str[144];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s посмотреть Ваши лицензии", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам посмотреть его лицензии", pData[playerid][pNickname]);
		    SendInf(to_playerid, fmt_str);

		    SendInf(to_playerid, "Используйте "cGR"«Y»"cWH", чтобы согласиться или "cLRED"«N»"cWH", чтобы отказаться от предложения");

		}
		case OFFER_SKILL:
		{
			new 
				fmt_str[144];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s посмотреть Ваши навыки оружия", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам посмотреть его навыки оружия", pData[playerid][pNickname]);
		    SendInf(to_playerid, fmt_str);			

		    SendInf(to_playerid, "Используйте "cGR"«Y»"cWH", чтобы согласиться или "cLRED"«N»"cWH", чтобы отказаться от предложения");
		}
		case OFFER_UDOST:
		{
			new 
				fmt_str[144];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s посмотреть Ваше удостоверение", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам посмотреть его удостоверение", pData[playerid][pNickname]);
		    SendInf(to_playerid, fmt_str);			

		    SendInf(to_playerid, "Используйте "cGR"«Y»"cWH", чтобы согласиться или "cLRED"«N»"cWH", чтобы отказаться от предложения");
		}
		case OFFER_MECHANIC_INVITE:
		{
			new 
				fmt_str[144];

			new 
				id_mechanic;

			if(pData[playerid][pMechOwnerID] != -1)
			{
				id_mechanic = pData[playerid][pMechOwnerID];		
			}
			else if(pData[playerid][pMechOwnerLowID] != -1)
			{
				id_mechanic = pData[playerid][pMechOwnerLowID];
			}


		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s вступить в ваше СТО", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам вступить в СТО %s", pData[playerid][pNickname], mechanic[id_mechanic][mechanic_base_name]);
		    SendInf(to_playerid, fmt_str);

		    SetPVarIntNew(to_playerid, "id_mechanic", id_mechanic);


			format(String256, sizeof(String256), "\n"cBLUE"%s "cWH"предлагает Вам вступить в СТО:\n\n\
			"cWH"Номер СТО: "cBLUE"№%i\n\
			"cWH"Название: "cBLUE"%s", pData[playerid][pNickname],  id_mechanic, mechanic[id_mechanic][mechanic_base_name]);

			SPD(to_playerid, DIALOG_INVITE_M_P_ACCEPT, DIALOG_STYLE_MSGBOX, ""cBLUE"Предложение вступления в СТО", String256, !"Да", !"Нет");


		}
		case OFFER_MECHANIC_REPAIR:
		{
			new 
				fmt_str[144];

			new 
				id_mechanic;

			id_mechanic = pData[playerid][pMech];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s починить транспорт за "cGR"%d"cWH" рублей", pData[to_playerid][pNickname], mechanic[id_mechanic][mechanic_price_remont]);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам починить Ваш транспорт за "cGR"%d"cWH" рублей", pData[playerid][pNickname], mechanic[id_mechanic][mechanic_price_remont]);
		    SendInf(to_playerid, fmt_str);


		    SetPVarIntNew(to_playerid, "mechanic_offer_id", playerid);

			format(String256, sizeof(String256), "\n"cBLUE"%s "cWH"предлагает Вам починить Ваше транспортное средство:\n\n\
			"cWH"Стоимость: "cGR"%d"cWH" рублей", pData[playerid][pNickname], mechanic[id_mechanic][mechanic_price_remont]);
			SPD(to_playerid, DIALOG_REPAIR_VEHICLE_ACCEPT, DIALOG_STYLE_MSGBOX, ""cBLUE"Предложение ремонта транспорта", String256, !"Да", !"Нет");

		}
		case OFFER_MECHANIC_REFILL:
		{
			new 
				fmt_str[144];

			new 
				id_mechanic,
				price_fuel, max_fuel;

			id_mechanic = pData[playerid][pMech];


			new 
				vehicleids = GetPlayerVehicleID(to_playerid);

			if(vehicle[vehicleids][cFuel] >= transport_config[GetVehicleModel(vehicleids)-400][transport_tank])
				return SendErr(playerid, "У клиента максимальное количество топлива!");

			max_fuel = GetPVarIntNew(playerid, "fill_car_m_count");

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s заправить транспорт за "cGR"%d"cWH" рублей на %d литров", pData[to_playerid][pNickname], mechanic[id_mechanic][mechanic_price_fuel]*max_fuel, max_fuel);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам заправить Ваш транспорт за "cGR"%d"cWH" рублей на %d литров", pData[playerid][pNickname], \
		    mechanic[id_mechanic][mechanic_price_fuel]*max_fuel, max_fuel);
		    SendInf(to_playerid, fmt_str);	

		    SetPVarIntNew(to_playerid, "mechanic_offer_id", playerid);

			format(String256, sizeof(String256), "\n"cBLUE"%s "cWH"предлагает Вам заправить Ваше транспортное средство:\n\n\
			"cWH"Стоимость: "cGR"%d"cWH" рублей\n\
			"cWH"Количество литров: "cGR"%d"cWH" литров", pData[playerid][pNickname], mechanic[id_mechanic][mechanic_price_fuel]*max_fuel, max_fuel);
			SPD(to_playerid, DIALOG_FILLING_VEHICLE_ACCEPT, DIALOG_STYLE_MSGBOX, ""cBLUE"Предложение заправки транспорта", String256, !"Да", !"Нет");

		}
		case OFFER_MECHANIC_REOIL:
		{
			new 
				fmt_str[144];

			new 
				id_mechanic,
				price_fuel, max_fuel;

			id_mechanic = pData[playerid][pMech];


			max_fuel = GetPVarIntNew(playerid, "fill_car_m_count");


		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s заправить транспорт маслом за "cGR"%d"cWH" рублей на %d литров", pData[to_playerid][pNickname], mechanic[id_mechanic][mechanic_price_oil]*max_fuel, max_fuel);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам заправить Ваш транспорт маслом за "cGR"%d"cWH" рублей на %d литров", pData[playerid][pNickname], \
		    mechanic[id_mechanic][mechanic_price_oil]*max_fuel, max_fuel);
		    SendInf(to_playerid, fmt_str);	

		    SetPVarIntNew(to_playerid, "mechanic_offer_id", playerid);

			format(String256, sizeof(String256), "\n"cBLUE"%s "cWH"предлагает Вам заправить Ваше транспортное средство маслом:\n\n\
			"cWH"Стоимость: "cGR"%d"cWH" рублей", pData[playerid][pNickname], mechanic[id_mechanic][mechanic_price_oil]*max_fuel, max_fuel);
			SPD(to_playerid, DIALOG_FILL_OIL_VEHICLE_ACCEPT, DIALOG_STYLE_MSGBOX, ""cBLUE"Предложение заправки транспорта", String256, !"Да", !"Нет");

		}
		case OFFER_MECHANIC_REPAIR_ENGINE:
		{
			new 
				fmt_str[300];

			new 
				price_final = GetPVarIntNew(playerid, "repair_engine_final_price");

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s выполнить ремнот Вашего двигателя за "cGR"%d"cWH" рублей", pData[to_playerid][pNickname], price_final);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам выполнить ремонт двигателя за "cGR"%d"cWH" рублей", pData[playerid][pNickname], price_final);
		    SendInf(to_playerid, fmt_str);				
		}
		case OFFER_FAMILY_INVITE:
		{
			new 
				fmt_str[144];

			new 
				fam_id = pData[playerid][pFamily];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s вступить в Вашу семью", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);
		    format(fmt_str, sizeof(fmt_str), "%s предложил Вам вступить в семью %s%s", pData[playerid][pNickname], \
		    	get_color_family(fam_id), get_family_name(fam_id));
		    SendInf(to_playerid, fmt_str);				

		    SetPVarIntNew(to_playerid, "id_family", fam_id);
		    SetPVarIntNew(to_playerid, "id_invite_family", playerid+1);

			format(String256, sizeof(String256), "\n"cBLUE"%s "cWH"предлагает Вам вступить в семью:\n\n\
			"cWH"Номер семьи: "cBLUE"№%i\n\
			"cWH"Название: %s%s", pData[playerid][pNickname], fam_id, get_color_family(fam_id), get_family_name(fam_id));

			SPD(to_playerid, DIALOG_INVITE_FAMILY_ACCEPT, DIALOG_STYLE_MSGBOX, ""cBLUE"Предложение вступления в семью", String256, !"Да", !"Нет");


		}
		case OFFER_TRUCKER_INVITE:
		{
			new 
				fmt_str[144];

		    format(fmt_str, sizeof(fmt_str), "Вы предложили %s вступить в Вашу Транспортную Компанию", pData[to_playerid][pNickname]);
		    SendInf(playerid, fmt_str);

		    format(fmt_str, sizeof(fmt_str), "%s предлагает Вам вступить в Транспортную Компанию", pData[playerid][pNickname]);
		    SendInf(to_playerid, fmt_str);	

		    SetPVarIntNew(to_playerid, "id_trucker", pData[playerid][pTrucker]);

			format(String256, sizeof String256, "\n"cBLUE"%s "cWH"предлагает Вам вступить в ТК:\n\n\
			"cWH"Номер Транспортной Компании: "cBLUE"№%i\n\
			"cWH"Название: "cBLUE"%s", pData[playerid][pNickname], pData[playerid][pTrucker], trucker_station[pData[playerid][pTrucker]][trucker_base_name]);

			SPD(to_playerid, DIALOG_INVITE_P_ACCEPT, DIALOG_STYLE_MSGBOX, ""cBLUE"Предложение вступления в ТК", String256, !"Да", !"Нет");



		}
	}

	SetPVarIntNew(playerid, "offer_cooldown", gettime() + 5);

	pTemp[to_playerid][offer_playerid] = playerid;
	pTemp[to_playerid][offer_action] = action;

	pTemp[to_playerid][offer_time] = 10;

	
	return true;
}

stock offer_accept(playerid)
{
	if(!IsPlayerConnected(pTemp[playerid][offer_playerid]) || !pTemp[playerid][offer_action]) 
		return true;

	new
		action = pTemp[playerid][offer_action],
		from_playerid = pTemp[playerid][offer_playerid];

	if(!PlayerDistance(5.0, playerid, from_playerid)) 
		return TooFar(playerid);

	switch(action)
	{
		case OFFER_PASS:
		{
			show_player_pass(from_playerid, playerid);
		}
		case OFFER_LIC:
		{
			show_player_lic(from_playerid, playerid);
		}
		case OFFER_SKILL:
		{
			show_player_skill(from_playerid, playerid);	
		}
		case OFFER_UDOST:
		{
			show_player_udost(from_playerid, playerid);	
		}
	}

	pTemp[playerid][offer_playerid] = INVALID_PLAYER_ID;
	pTemp[playerid][offer_time] = pTemp[playerid][offer_action] = 0;

	return true;
}

stock offer_cancel(playerid)
{
	if(!IsPlayerConnected(pTemp[playerid][offer_playerid]) || !pTemp[playerid][offer_action]) 
		return true;

	new
		from_playerid = pTemp[playerid][offer_playerid];


	new 
		fmt_str[300];


	if(GetPVarIntNew(playerid,"fill_car_m_count") || GetPVarIntNew(playerid, "full_fill_car_m"))
	{
		DeletePVarNew(playerid, "fill_car_m_count");
		DeletePVarNew(playerid, "full_fill_car_m");
	}

    format(fmt_str, sizeof(fmt_str), "Вы отказались от предложения %s", pData[from_playerid][pNickname]);
    SendInf(playerid, fmt_str);
    format(fmt_str, sizeof(fmt_str), "%s отказался от Вашего предложения", pData[playerid][pNickname]);
    SendInf(from_playerid, fmt_str);

	pTemp[playerid][offer_playerid] = INVALID_PLAYER_ID;
	pTemp[playerid][offer_time] = pTemp[playerid][offer_action] = 0;

	return true;
}

stock offer_clear_accept(playerid)
{
	if(!IsPlayerConnected(pTemp[playerid][offer_playerid]) || !pTemp[playerid][offer_action]) 
		return true;

	pTemp[playerid][offer_playerid] = INVALID_PLAYER_ID;
	pTemp[playerid][offer_time] = pTemp[playerid][offer_action] = 0;


	return true;
}

stock show_player_lic(playerid, to_playerid)
{
	new mes[450];
	strcat(mes,""cWH"Водительские права: ");
	if(pData[playerid][pLicenses][LIC_DRIVING]) strcat(mes,""cGR"Есть\n");
	else strcat(mes,""cLRED"Нет\n");
	strcat(mes,""cWH"Лицензия пилота: ");
	if(pData[playerid][pLicenses][LIC_FLY]) strcat(mes,""cGR"Есть\n");
	else strcat(mes,""cLRED"Нет\n");
	strcat(mes,""cWH"Лицензия на водный транспорт: ");
	if(pData[playerid][pLicenses][LIC_BOAT]) strcat(mes,""cGR"Есть\n");
	else strcat(mes,""cLRED"Нет\n");
	strcat(mes,""cWH"Лицензия на оружие: ");
	if(pData[playerid][pLicenses][LIC_WEAP]) strcat(mes,""cGR"Есть\n");
	else strcat(mes,""cLRED"Нет\n");
	ShowPlayerDialog(to_playerid,0,0,"{FFFFAD}Лицензии",mes,"OK","");

	return true;
}

stock show_player_skill(playerid, to_playerid)
{
	new points[6];
	points[0] = 100 - pTemp[playerid][pGunSkill][0];
	points[1] = 100 - pTemp[playerid][pGunSkill][1];
	points[2] = 100 - pTemp[playerid][pGunSkill][2];
	points[3] = 100 - pTemp[playerid][pGunSkill][3];
	points[4] = 100 - pTemp[playerid][pGunSkill][4];
	points[5] = 100 - pTemp[playerid][pGunSkill][5];

	format(String1024,sizeof(String1024),""cWH"Пистолет:\t[%s] "cBLUE"%d%%"cWH"\n\
		Пустынный Орёл: [%s] "cBLUE"%d%%"cWH" \n\
		Дробовик:\t [%s] "cBLUE"%d%%"cWH"\n\
		MP5\t\t[%s] "cBLUE"%d%%"cWH" \n\
		AK47:\t\t[%s] "cBLUE"%d%%"cWH"\n\
		M4A1:\t\t[%s] "cBLUE"%d%%"cWH"%d",
	ToDevelopSkills(pTemp[playerid][pGunSkill][0],points[0]),pTemp[playerid][pGunSkill][0],
	ToDevelopSkills(pTemp[playerid][pGunSkill][1],points[1]),pTemp[playerid][pGunSkill][1],
	ToDevelopSkills(pTemp[playerid][pGunSkill][2],points[2]),pTemp[playerid][pGunSkill][2],
	ToDevelopSkills(pTemp[playerid][pGunSkill][3],points[3]),pTemp[playerid][pGunSkill][3],
	ToDevelopSkills(pTemp[playerid][pGunSkill][4],points[4]),pTemp[playerid][pGunSkill][4],
	ToDevelopSkills(pTemp[playerid][pGunSkill][5],points[5]),pTemp[playerid][pGunSkill][5]);
	ShowPlayerDialog(to_playerid, 0000, DIALOG_STYLE_MSGBOX,""cBLUE"Навыки владения оружием",String1024,"Закрыть","");
	
	new mese[64];
	format(mese,sizeof(mese),"достал(а) выписку из тира и рассматривает ее");
	MeAction( playerid ,mese);

	return true;
}

forward PlayerDistance(Float:radius, playerid, to_playerid);
public PlayerDistance(Float:radius, playerid, to_playerid)
{
	if(!IsPlayerConnected(playerid)) return false;
	if(!IsPlayerConnected(to_playerid)) return false;
	if(!IsPlayerStreamedIn(to_playerid, playerid)) return false;
	if(GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(to_playerid)) return false;
	if(GetPlayerState(playerid) == PLAYER_STATE_SPECTATING) return false;
	if(GetPlayerState(to_playerid) == PLAYER_STATE_SPECTATING) return false;
	
	new Float:pos_x, Float:pos_y, Float:pos_z;

	GetPlayerPos(to_playerid, pos_x, pos_y, pos_z);
	
	if(IsPlayerInRangeOfPoint(playerid, radius, pos_x, pos_y, pos_z)) return true;
	return false;
}
stock Float:GetDistanceBetweenPos(Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2) 
{
    return floatsqroot(floatpower(floatabs(floatsub(x2,x1)),2)+floatpower(floatabs(floatsub(y2,y1)),2)+floatpower(floatabs(floatsub(z2,z1)),2));
}



stock IsNumeric(string[])
{
	new accept;
	for(new i; i < strlen(string); i++)
	{
		switch(string[i])
		{
			case '0'..'9': accept++;
		}
	}
	if(accept == strlen(string)) return true;
		else return false;
}

stock create_dynamic_area(Float:x, Float:y, Float:z, vw, id, type, Float:area_size = PICKUP_SIZE)
{
	new area = CreateDynamicSphere(x, y, z, area_size, vw);
	area_info[area][a_exist] = 1;
	area_info[area][a_item_id] = id;
	area_info[area][a_item_type] = type;
	area_info[area][a_press_alt] = 1;
	switch(type)
	{
		case LOCATION: area_info[area][a_press_alt] = 0;
		case GREENZONE: area_info[area][a_press_alt] = 0;
	}
	return 1;
}



stock SetTime(time){

	new new_time;

	switch(time){
		case 23, 0: new_time = 22;
		case 1..2: new_time = 23;
		case 3..4: new_time = 5;
		case 5..6: new_time = 6;
		default: new_time = time;
	}

	SetWorldTime(new_time);
	return true;
}

stock clear_chat_for_login(playerid)
{

	for(new i; i < 15; i ++) SCM(playerid, -1, " ");


	return true;
}

stock alt_info_player(playerid, action)
{
	switch(action)
	{
		case TEXTDRAW_SHOW:
		{
			create_info_player(playerid);
			PlayerTextDrawSetString(playerid, player_info_td[playerid], "brilliantother:notify_player_use_alt");
			PlayerTextDrawShow(playerid, player_info_td[playerid]);

		}
		case TEXTDRAW_HIDE:
		{
			PlayerTextDrawHideEx(playerid, player_info_td[playerid]);
		}
	}
	return true;
}

stock horn_info_player(playerid, action)
{
	switch(action)
	{
		case TEXTDRAW_SHOW:
		{
			create_info_player(playerid);
			PlayerTextDrawSetString(playerid, player_info_td[playerid], "brilliantother:notify_player_use_h");
			PlayerTextDrawShow(playerid, player_info_td[playerid]);

		}
		case TEXTDRAW_HIDE:
		{
			PlayerTextDrawHideEx(playerid, player_info_td[playerid]);
		}
	}
	return true;
}

stock player_eat_food(playerid, type)
{
	new 
		mes[128];

	switch(type)
	{
		case 1:
		{
			format(mes, sizeof(mes), "выпил(-а) алкоголь");
			MeAction(playerid,mes);
			ApplyAnimation(playerid,"FOOD","EAT_Burger",4.1,0,1,1,1,1);
		}
		case 2:
		{
			format(mes, sizeof(mes), "употребляет пищу");
			MeAction(playerid,mes);
			ApplyAnimation(playerid,"FOOD","EAT_Burger",4.1,0,1,1,1,1);
		}
		case 3:
		{
			format(mes, sizeof(mes), "употребляет пищу");
			MeAction(playerid,mes);
			ApplyAnimation(playerid,"FOOD","EAT_Burger",4.1,0,1,1,1,1);
		}
	}
	show_hud_hungry(playerid);
	return true;
}

stock get_stats_color(money_first, money_previow)
{
	new 
		color[10];

	if(money_first == money_previow) color = ""cYELLOW"";
	if(money_previow > money_first) color = ""cLRED"";
	if(money_previow < money_first) color = ""cGR"";

	return color;
}

stock get_stats_phrase(money_first, money_previow)
{
	new 
		color[25];

	if(money_first == money_previow) format(color, sizeof(color), ""cGR"Больше на");
	if(money_previow > money_first) format(color, sizeof(color), ""cLRED"Меньше на");
	if(money_previow < money_first) format(color, sizeof(color), ""cGR"Больше на");

	return color;
}

stock select_binder_player(playerid)
{
	return SPD(playerid,SELECT_TYPE_BINDER_PLAYER,2,""cBLUE"Выбор биндера",\
	""cBLUE"1. "cWH"Обычный биндер (Классические команды)\n\
	"cBLUE"2. "cWH"Биндер для РП (/me, /do, /try)\n\
	","Выбрать","Отмена"); 	
}


public OnSQLError(SQL:handle, errorid, error[], query[], callback[])
{ 
	switch(errorid)
	{
		case MYSQL_CR_SERVER_GONE_ERROR: printf("SQL ERROR - [%s] | P [%s] | Q [%s]", error, callback, query);
	}
	static fmt_str[144];
	format(fmt_str, 144, "[QE] ID: %d / Error: %s", errorid, error);
	printf(fmt_str);
	format(fmt_str, 144, "[QE] Callback: %s / Query: %s", callback, query);
	printf(fmt_str);

	printf("SQL ERROR - %s | ID: %d | P: %s | Q - %s", error, errorid, callback, query);
}


public OnQueryError(errorid, const error[], const callback[], const query[], MySQL:handle) 
{
	static fmt_str[144];
	format(fmt_str, 144, "[MYQE] ID: %d / Error: %s", errorid, error);
	printf(fmt_str);
	format(fmt_str, 144, "[MYQE] Callback: %s / Query: %s", callback, query);
	printf(fmt_str);

	printf("MYSQL ERROR - %s | ID: %d | P: %s | Q - %s", error, errorid, callback, query);

}


stock get_number_day(year, month, day)
{
    new 
        a = (12 - month)/12,
        y = year - a,
        m = month + 12 * a - 2,
        d = (7000 + day + y + (y/4) - (y/100) + (y/400) + ((31*m)/12)) % 7;

    if(!(year % 4) && (year/400) != 0 && (month == 1 || month == 2)) // Если год високосный и месяц - январь/февраль, то к дню нужно прибавить ещё 1 день
    {
        return (d == 6 ? 0 : d+1);
    }
   
    else 
    {
        if(month == 1 || month == 2) // Если год невисокосный и месяц - январь/февраль, нужно прибавить 2 дня
        {
            return (d==5 ? 0 : d+2);
        }
    } 
    return d; 
}

stock set_weather_random()
{
	switch(random(20))
	{
		case 0..3: SetWeather(1);
		case 4..6: SetWeather(2);
		case 7..9: SetWeather(3);
		case 10..11: SetWeather(5);
		case 12..15: SetWeather(11);
		case 16..20: SetWeather(9); 
	}
	return true;
}

const UNOCCUPIED_SYNC = 209;
IPacket:UNOCCUPIED_SYNC(playerid, BitStream:bs)
{
    new unoccupiedData[PR_UnoccupiedSync];

    BS_IgnoreBits(bs, 8);
    BS_ReadUnoccupiedSync(bs, unoccupiedData);

    if(!(-1.0 <= unoccupiedData[PR_roll][0] <= 1.0) || !(-1.0 <= unoccupiedData[PR_roll][1] <= 1.0) || !(-1.0 <= unoccupiedData[PR_roll][2] <= 1.0) || !(-1.0 <= unoccupiedData[PR_direction][0] <= 1.0) || !(-1.0 <= unoccupiedData[PR_direction][1] <= 1.0) || !(-1.0 <= unoccupiedData[PR_direction][2] <= 1.0) || !(-15000.0 <= unoccupiedData[PR_position][0] <= 15000.0) || !(-15000.0 <= unoccupiedData[PR_position][1] <= 15000.0) || !(-15000.0 <= unoccupiedData[PR_position][2] <= 15000.0))
	{
    	return 0;
    }
    return 1;
}

callback:: Float:GetDistanceXYZ(Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2)
{
	return floatsqroot(floatabs(floatsub(x2,x1))*floatabs(floatsub(x2,x1)) + floatabs(floatsub(y2,y1))*floatabs(floatsub(y2,y1)) + floatabs(floatsub(z2,z1))*floatabs(floatsub(z2,z1)));
}

stock Float:GetDistanceBetweenPoints(Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2)
{
    return VectorSize(x1-x2, y1-y2, z1-z2);
}


stock end_all_work(playerid)
{
	end_wood_job(playerid);
	end_working_taxi(playerid);
	end_miner_job(playerid);
	work_bus_unrent(playerid);
	end_trucker_job(playerid);
	end_factoryjob(playerid);
	end_snow_work(playerid);
	end_fire_job(playerid);
	end_trash_work(playerid);
	end_bank_work(playerid);
	end_taxi_job(playerid);
	end_fire_job(playerid);

	return true;
}

stock IsVehicleInRangeOfPoint(vehicleid,Float:range,Float:x,Float:y,Float:z)
{
    if(vehicleid == INVALID_VEHICLE_ID) return 0;

    new Float:DistantaCar = GetVehicleDistanceFromPoint(vehicleid, x, y, z);

    if(DistantaCar <= range) return 1;
    return 0;
}

callback:: off_audio_stream_p(playerid)
{
	PlayerPlayStream(playerid, "");

	return true;
}

stock SetPlayerPosDebug(playerid, Float:x, Float:y, Float:z)
{
	SetPlayerPos(playerid, x, y, z+0.3);
	update_spec_for_all(playerid);

	TogglePlayerControllable(playerid, false);
	ControllableTimer[playerid] = SetTimerEx("ToggleControllable", GetPlayerPing(playerid) + 2000, false, "ii", playerid, 1);
	return true;
}


stock SplitName(playerid)
{
	new 
		getspace,
		name[MAX_PLAYER_NAME+1],
		subname[MAX_PLAYER_NAME+1];
		
    GetPlayerName(playerid, name, MAX_PLAYER_NAME);
    getspace = strfind(name, "_", true);
    if(getspace != -1) strdel(name, getspace, sizeof(name));

    GetPlayerName(playerid, subname, MAX_PLAYER_NAME);
    getspace = strfind(subname, "_", true);
    if(getspace != -1) strdel(subname, 0, getspace+1);

    new 
    	nick_mes[40];
    format(nick_mes, sizeof(nick_mes), "%s\n%s", name, subname);
    
    return nick_mes;
}

callback:: close_gates(obj, Float:x, Float:y, Float:z, Float:speed, Float:rx, Float:ry, Float:rz)
{
	MoveDynamicObject(obj, x, y, z, speed, rx, ry, rz);
	return true;
}



callback:: repair_vehicle_damage_status(carid)
{

	

    new 
    	Float:hp_vehicle_car;

    GetVehicleHealth(carid, hp_vehicle_car);

    if(hp_vehicle_car < 150)
    {
    	vehicle_engine_status(carid, false);
    	SetVehicleHealth(carid, 150);

    	if(IsVehicleUpsideDown(carid))
    	{
    		flip_car_death(carid);
    	}
    }
    return true;
}


stock flip_car_death(vehicleid)
{
	new 
		Float:angle, result;

	result = GetVehicleZAngle(vehicleid, angle);

	if(!result)
		return 0;
	
	SetVehicleZAngle(vehicleid, angle);

	return true;
}

stock IsVehicleUpsideDown(vehicleid)
{
    new 
    	Float:x, Float:y, Float:z, Float:w;

    if(GetVehicleRotationQuat(vehicleid, w, x, y, z) == 0) 
    	return false;

    new Float:angle = atan2(((y * z) + (w * x)) * 2.0,
        (w * w) - (x * x) - (y * y) + (z * z));

    return true;
}


stock set_player_skin(playerid, skin_id)
{
	SetPlayerSkin(playerid, skin_id);
	AttachAcsToPlayer(playerid, skin_id);
	return true;
}

stock setting_hud_element_p(playerid)
{
	if(pData[playerid][pSettings][5] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_VOICE, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_VOICE, HUD_ELEMENT_HIDE);
	}

	if(pData[playerid][pSettings][7] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_CHAT, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_CHAT, HUD_ELEMENT_HIDE);
	}

	if(pData[playerid][pSettings][8] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_MAP, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_MAP, HUD_ELEMENT_HIDE);
	}

	if(pData[playerid][pSettings][9] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_BUTTONS, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_BUTTONS, HUD_ELEMENT_HIDE);
	}


	if(pData[playerid][pSettings][11] == 1)
	{
		TogglePlayerAllHudElements(playerid, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerAllHudElements(playerid, HUD_ELEMENT_HIDE);
	}
	return true;
}

stock PlayerDeathByEnemyPlayer(playerid, killerid)
{
	if(killerid != INVALID_PLAYER_ID)
	{
		new
			death_mes[60];

		format(death_mes, sizeof (death_mes), "Вы были убиты игроком %s[%i]", pData[killerid][pNickname], killerid);
		SendInf(playerid, death_mes);
		return true;
	}
	return true;
}


stock time_to_words(number)
{
	new 
		hours = 0, mins = 0, secs = 0, string[30];

	hours = floatround(number / 3600);
	mins = floatround((number / 60) - (hours * 60));
	secs = floatround(number - ((hours * 3600) + (mins * 60)));

	if(hours) format(string, 30, "%d ч %02d мин %02d сек", hours, mins, secs);
		else format(string, 30, "%d мин %02d сек", mins, secs);

	return string;
}

stock time_to_string(number)
{
	new hours = 0, mins = 0, secs = 0, string[30];

	hours = floatround(number / 3600);
	mins = floatround((number / 60) - (hours * 60));
	secs = floatround(number - ((hours * 3600) + (mins * 60)));

	if(hours) format(string, 30, "%i:%02i:%02i", hours, mins, secs);
		else format(string, 30, "%i:%02i", mins, secs);

	return string;
}


stock show_notify_gui(playerid, status, type = 0, type_td[] = "None", time = 2000)
{


	switch(status)
	{
		case TEXTDRAW_SHOW:
		{
			switch(type)
			{	

				case NOTIFY_GUI_256_CENTER:
				{
					hide_global_notify_gui(playerid);
					create_notify_p(playerid);
					PlayerTextDrawSetString(playerid, notify_player_all[0][playerid], type_td);
					PlayerTextDrawShow(playerid, notify_player_all[0][playerid]);	
				}
				case NOTIFY_GUI_256_RIGHT:
				{
					show_info_gui(playerid, TEXTDRAW_HIDE);
					hide_global_notify_gui(playerid);
					create_notify_p(playerid);
					PlayerTextDrawSetString(playerid, notify_player_all[1][playerid], type_td);
					PlayerTextDrawShow(playerid, notify_player_all[1][playerid]);			

				}		
			}
			SetTimerEx("hide_global_notify_gui", time, false, "i", playerid);
		}
		case TEXTDRAW_HIDE:
		{
			PlayerTextDrawHideEx(playerid, notify_player_all[0][playerid]);
			PlayerTextDrawHideEx(playerid, notify_player_all[1][playerid]);
		}
	}

	return true;
}

callback:: hide_global_notify_gui(playerid)
{
	show_info_gui(playerid, TEXTDRAW_SHOW);
	show_notify_gui(playerid, TEXTDRAW_HIDE);

	return true;
}

stock show_select_spawn(playerid)
{

	hide_hud_element(playerid);

	TextDrawShowForPlayer(playerid, select_spawn[0]);
	TextDrawShowForPlayer(playerid, select_spawn[1]);
	TextDrawShowForPlayer(playerid, select_spawn[2]);
	TextDrawShowForPlayer(playerid, select_spawn[3]);
	TextDrawShowForPlayer(playerid, select_spawn[4]);
	TextDrawShowForPlayer(playerid, select_spawn[5]);
	SelectTextDraw(playerid, COLOR_BLUE);

	SetPlayerVirtualWorld(playerid,  playerid + 1);

	TogglePlayerAllHudElements(playerid, HUD_ELEMENT_HIDE);
	SelectTextDraw(playerid, COLOR_BLUE);
	return true;
}

stock hide_select_spawn(playerid)
{	

	show_hud_element(playerid);
	show_hud_hungry(playerid);

	TextDrawHideForPlayer(playerid, select_spawn[0]);
	TextDrawHideForPlayer(playerid, select_spawn[1]);
	TextDrawHideForPlayer(playerid, select_spawn[2]);
	TextDrawHideForPlayer(playerid, select_spawn[3]);
	TextDrawHideForPlayer(playerid, select_spawn[4]);
	TextDrawHideForPlayer(playerid, select_spawn[5]);

	if(pData[playerid][pSettings][5] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_VOICE, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_VOICE, HUD_ELEMENT_HIDE);
	}

	if(pData[playerid][pSettings][7] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_CHAT, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_CHAT, HUD_ELEMENT_HIDE);
	}

	if(pData[playerid][pSettings][8] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_MAP, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_MAP, HUD_ELEMENT_HIDE);
	}

	if(pData[playerid][pSettings][9] == 1)
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_BUTTONS, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerHudElement(playerid, HUD_ELEMENT_BUTTONS, HUD_ELEMENT_HIDE);
	}


	if(pData[playerid][pSettings][11] == 1)
	{
		TogglePlayerAllHudElements(playerid, HUD_ELEMENT_SHOW);
	}
	else
	{
		TogglePlayerAllHudElements(playerid, HUD_ELEMENT_HIDE);
	}

	CancelSelectTextDraw(playerid);

	return true;
}

forward Float:GetDistanceBetweenPlayers(p1,p2);
public Float:GetDistanceBetweenPlayers(p1,p2)
{
	new Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2;
	if(!IsPlayerConnected(p1) || !IsPlayerConnected(p2))
	{
		return -1.00;
	}
	GetPlayerPos(p1,x1,y1,z1);
	GetPlayerPos(p2,x2,y2,z2);
	return floatsqroot(floatpower(floatabs(floatsub(x2,x1)),2)+floatpower(floatabs(floatsub(y2,y1)),2)+floatpower(floatabs(floatsub(z2,z1)),2));
}


stock SetString(param_1[], param_2[], size = 300)
{
	return strmid(param_1, param_2, 0, strlen(param_2), size);
}


stock convert_money(amount, delimiter[2] = ",")
{
    new 
    	fmt_string[10+3+1+1];
    format(fmt_string, sizeof(fmt_string), "%d", amount >= 0 ? amount : -amount);

    new value = strlen(fmt_string);
    switch(value)
    {
        case 4..6:
       	{
			strins(fmt_string, delimiter, value-3,1);
       	}
        case 7..9:
        {
            strins(fmt_string, delimiter, value-3,1),
            strins(fmt_string, delimiter, value-6,1);
        }
        case 10..12: 
       	{
            strins(fmt_string, delimiter, value-3,1),
            strins(fmt_string, delimiter, value-6,1),
            strins(fmt_string, delimiter, value-9,1);
        }
    }

    if(amount < 0) strins(fmt_string, "-", 0);
    return fmt_string;
}

stock GetFreeSeat(vehicleid,model)
{
	if(!vehicleid) 
		return -1;
	new
		maxs = 3;
	new 
		bool:seat[4],cnt;

	foreach(new i: logged_players)
	{
		if(GetPlayerVehicleID(i) != vehicleid) 
			continue;	

		if(player_vehicle[i] != vehicleid ) 
			continue;

		new 
			pseat = GetPlayerVehicleSeat(i);
		if(pseat < 1 || pseat > 3) 
			continue;

		seat[pseat] = true;
		cnt++;

		if(cnt >= maxs) 
			return -1;
	}
	for(new i = maxs; i >= 1;i--) 
	{
		if(!seat[i]) 
			return i;
	}
	return -1;
}

stock show_dialog(playerid, dialogid, style, caption[], info[], button1[], button2[])
{
	pData[playerid][p_dialog] = dialogid;
	return ShowPlayerDialog(playerid, dialogid, style, caption, info, button1, button2);
}


stock log_debug(playerid, text[])
{
	format(String256, sizeof(String256), "[DEBUG] "cWH"%s", text);
	SCM(playerid, COLOR_YELLOW, String256);

	return true;
}

stock get_date_global()
{
	new 
		date[36];

	getdate(date[2], date[1], date[0]);
	gettime(date[3], date[4], date[5]);

	format(date, sizeof(date), "%02d/%02d/%d, %02d:%02d", date[0], date[1], date[2], date[3], date[4]);
	return date;
}

stock get_vehicle_heal(vehicleid)
{
	if (!IsValidVehicle(vehicleid))
	    return 0;

	new 
		Float:amount;

	GetVehicleHealth(vehicleid, amount);
	return floatround(amount, floatround_round);
}

stock get_player_armour(playerid)
{
	new 
		Float:amount;

	GetPlayerArmour(playerid, amount);
	return floatround(amount, floatround_round);
}

stock get_player_health(playerid)
{
	new 
		Float:amount;

	GetPlayerHealth(playerid, amount);
	return floatround(amount, floatround_round);
}

stock ApplyAnim(playerid, animlib[], animname[], Float:fDelta, loop, lockx, locky, freeze, time, forcesync = 0)
{
	if(!IsPlayerInAnyVehicle(playerid))
	{
		return ApplyAnimation(playerid, animlib, animname, fDelta, loop, lockx, locky, freeze, time, forcesync);
	}
	return true;
}

stock show_setting_player(playerid)
{
    format(String2048, sizeof(String2048), "\
        "cGREY"Настройка\t"cGREY"Статус\n\
        "cBLUE"1. "cWH"Информация о действиях администраторов\t%s\n\
        "cBLUE"2. "cWH"Отображение чата организации\t%s\n\
        "cBLUE"3. "cWH"Отображение ID игроков в чате\t%s\n\
        "cBLUE"4. "cWH"Отображение ников игроков\t%s\n\
        "cBLUE"5. "cWH"Возвращение на последнее место работы при краше\t%s\n\
        "cBLUE"6. "cWH"Отображение кнопки голосового чата\t%s\n\
        "cBLUE"7. "cWH"Частота обновления спидометра\t%s\n\
        "cBLUE"8. "cWH"Скрытие чата\t%s\n\
        "cBLUE"9. "cWH"Скрытие мини-карты\t%s\n\
        "cBLUE"10. "cWH"Скрытие кнопок управления\t%s\n\
        "cBLUE"11. "cWH"Скрытие спидометра\t%s\n\
        "cBLUE"12. "cWH"Скрытие всех элементов HUD'a\t%s\n\
        "cBLUE"13. "cWH"Автоскрытие чата при неактивности\t%s",
        (pData[playerid][pSettings][0] == 1) ? (""cGR"Включена") : (""cLRED"Отключена"),
        (pData[playerid][pSettings][1] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][2] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][3] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][4] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][5] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][6] == 1) ? (""cGR"Быстро (Для мощных устройств)") : (""cLRED"Медленно (Для слабых устройств)"),

        (pData[playerid][pSettings][7] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][8] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][9] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][10] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][11] == 1) ? (""cGR"Включено") : (""cLRED"Отключено"),
        (pData[playerid][pSettings][12] == 1) ? (""cGR"Включено") : (""cLRED"Отключено")

        );
    return SPD(playerid, dPlayerMenuSettingsAction, DIALOG_STYLE_TABLIST_HEADERS, !""cBLUE"Настройка аккаунта", String2048, !"Выбрать", !"Закрыть"); 

}

stock get_vehicle_id()
{
	new veh_id = AddStaticVehicleEx(400, -100, -100, -100, 0, 0, 0, 0);
	DestroyVehicle(veh_id);
	return veh_id;
}



stock player_save_accounts(playerid)
{

	new 
		Float:x, Float:y, Float:z;

	GetPlayerPos(playerid, x, y, z);

	format(String1024,sizeof(String1024),"UPDATE `accounts` SET `crash_exit_pos_x`='%f', \
	`crash_exit_pos_y` = '%f', `crash_exit_pos_z`= '%f', `crash_virtual_world`= '%d' WHERE `nickname`='%s'", x, y, z, GetPlayerVirtualWorld(playerid), pData[playerid][pNickname]);
	sql_queryEx(zConn, String1024, QUERY_THREADED);

    new 
    	weapon_str[45],
    	ammo_weap_str[70],
    	job_skills[MAX_JOB_SKILLS * 15],
    	setting_player_ind[150],
    	aks_player_ind[150],
    	quest_str[256],
    	quest_str_newyear[256],
    	fish_str[15*15];

	format(weapon_str, 45, "%d,%d,%d,%d,%d",
		ACInfo[playerid][acWeapon][2],
		ACInfo[playerid][acWeapon][3],
		ACInfo[playerid][acWeapon][4],
		ACInfo[playerid][acWeapon][5],
		ACInfo[playerid][acWeapon][6]);

	format(ammo_weap_str, 70, "%d,%d,%d,%d,%d",
		ACInfo[playerid][acAmmo][2],
		ACInfo[playerid][acAmmo][3],
		ACInfo[playerid][acAmmo][4],
		ACInfo[playerid][acAmmo][5],
		ACInfo[playerid][acAmmo][6]);

	format(job_skills, sizeof job_skills, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
		pData[playerid][job_skill][SKILL_MINER],
		pData[playerid][job_skill][SKILL_WOODCUTTER],
		pData[playerid][job_skill][SKILL_BUS_DRIVER],
		pData[playerid][job_skill][SKILL_TRUCKER],
		pData[playerid][job_skill][SKILL_FACTORY],
		pData[playerid][job_skill][SKILL_TAXI],
		pData[playerid][job_skill][SKILL_MECHANIC],
		pData[playerid][job_skill][SKILL_SNOWWORK],

		pData[playerid][job_skill][SKILL_FIRE],
		pData[playerid][job_skill][SKILL_BANK],
		pData[playerid][job_skill][SKILL_PICKER],
		pData[playerid][job_skill][SKILL_FISHER]

		);

	format(setting_player_ind, sizeof setting_player_ind, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
		pData[playerid][pSettings][0],
		pData[playerid][pSettings][1],
		pData[playerid][pSettings][2],
		pData[playerid][pSettings][3],
		pData[playerid][pSettings][4],
		pData[playerid][pSettings][5],
		pData[playerid][pSettings][6],
		pData[playerid][pSettings][7],
		pData[playerid][pSettings][8],
		pData[playerid][pSettings][9],
		pData[playerid][pSettings][10],
		pData[playerid][pSettings][11],
		pData[playerid][pSettings][12],
		pData[playerid][pSettings][13]
		);

	format(aks_player_ind, sizeof aks_player_ind, "%d,%d,%d,%d,%d",
		pData[playerid][pSlotItem][0],
		pData[playerid][pSlotItem][1],
		pData[playerid][pSlotItem][2],
		pData[playerid][pSlotItem][3],
		pData[playerid][pSlotItem][4],
		pData[playerid][pSlotItem][5]
		);

	format(quest_str, sizeof quest_str, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
		pData[playerid][pQuestStandart][0],
		pData[playerid][pQuestStandart][1],
		pData[playerid][pQuestStandart][2],
		pData[playerid][pQuestStandart][3],
		pData[playerid][pQuestStandart][4],
		pData[playerid][pQuestStandart][5],
		pData[playerid][pQuestStandart][6],
		pData[playerid][pQuestStandart][7],
		pData[playerid][pQuestStandart][8],
		pData[playerid][pQuestStandart][9],
		pData[playerid][pQuestStandart][10],
		pData[playerid][pQuestStandart][11],
		pData[playerid][pQuestStandart][12],
		pData[playerid][pQuestStandart][13],
		pData[playerid][pQuestStandart][14],
		pData[playerid][pQuestStandart][15],
		pData[playerid][pQuestStandart][16],
		pData[playerid][pQuestStandart][17],
		pData[playerid][pQuestStandart][18],
		pData[playerid][pQuestStandart][19],
		pData[playerid][pQuestStandart][20]
		);


	format(quest_str_newyear, sizeof quest_str_newyear, "%d,%d,%d,%d,%d,%d,%d,%d",
		pData[playerid][pQuestNewYear][0],
		pData[playerid][pQuestNewYear][1],
		pData[playerid][pQuestNewYear][2],
		pData[playerid][pQuestNewYear][3],
		pData[playerid][pQuestNewYear][4],
		pData[playerid][pQuestNewYear][5],
		pData[playerid][pQuestNewYear][6],
		pData[playerid][pQuestNewYear][7]
		);

	format(fish_str, sizeof fish_str, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
		fish_count_player[playerid][0],
		fish_count_player[playerid][1],
		fish_count_player[playerid][2],
		fish_count_player[playerid][3],
		fish_count_player[playerid][4],
		fish_count_player[playerid][5],
		fish_count_player[playerid][6],
		fish_count_player[playerid][7],
		fish_count_player[playerid][8],
		fish_count_player[playerid][9],
		fish_count_player[playerid][10],
		fish_count_player[playerid][11],
		fish_count_player[playerid][12],
		fish_count_player[playerid][13],
		fish_count_player[playerid][14]
		);

	format(String256,sizeof(String256),"UPDATE `fish_player_all` SET `fish_count`= '%s' WHERE `fish_table_user`='%d'", fish_str, pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String256, QUERY_THREADED);

	format(String256,sizeof(String256),"UPDATE `accounts` SET `job_skill`='%s' WHERE `nickname`='%s'", job_skills, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `settings`='%s' WHERE `nickname`='%s'", setting_player_ind, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `weapons`='%s' WHERE `nickname`='%s'", weapon_str, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `ammo`='%s' WHERE `nickname`='%s'", ammo_weap_str, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `pSlotItem`='%s' WHERE `nickname`='%s'", aks_player_ind, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `pQuestStandart`='%s' WHERE `nickname`='%s'", quest_str, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `pQuestNewYear`='%s' WHERE `nickname`='%s'", quest_str_newyear, pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);


	format(String144,sizeof(String144),"UPDATE `accounts` SET `ActionTimeMoney`= '%d' WHERE `id`='%d'", pData[playerid][ActionTimeMoney], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `ActionStatusMoney`= '%d' WHERE `id`='%d'", pData[playerid][ActionStatusMoney], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String256,sizeof(String256),"UPDATE `accounts` SET `atime` = '%d' WHERE `nickname`='%s'", pTemp[playerid][pAdminExp], pData[playerid][pNickname]);
	sql_queryEx(zConn, String256, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `count_time_payday`= '%d' WHERE `id`='%d'", pData[playerid][hour_played], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `promocode_admin_time_player`= '%d' WHERE `id`='%d'", pData[playerid][promocode_admin_time_player], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `promocode_admin`= '%d' WHERE `id`='%d'", pData[playerid][promocode_admin], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `promocode_admin_time`= '%d' WHERE `id`='%d'", pData[playerid][promocode_admin_time], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);

	format(String144,sizeof(String144),"UPDATE `accounts` SET `pPlayCar`= '%d' WHERE `id`='%d'", pData[playerid][pPlayCar], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pPlayOnlineDonate`= '%d' WHERE `id`='%d'", pData[playerid][pPlayOnlineDonate], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);

	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay1`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay1], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay2`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay2], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay3`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay3], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay4`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay4], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay5`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay5], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay6`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay6], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);
	format(String144,sizeof(String144),"UPDATE `accounts` SET `pOnlineDay7`= '%d' WHERE `id`='%d'", pData[playerid][pOnlineDay7], pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String144, QUERY_THREADED);

	format(String2048, sizeof(String2048), "UPDATE `accounts` SET \
		`level` = '%d',\
		`money` = '%d',\
		`bank` = '%d',\
		`exp` = '%d'\
		 WHERE `id` = '%d'",
	pData[playerid][pLevel],
	pData[playerid][pMoney],
	pData[playerid][pBank],
	pData[playerid][pExp],

	pData[playerid][pMysqlID]);
	sql_queryEx(zConn, String2048, QUERY_THREADED);

	return true;
}

stock SetPlayerAttachedObjectEx(playerid, index, modelid, bone, Float:fOffsetX = 0.0, Float:fOffsetY = 0.0, Float:fOffsetZ = 0.0, Float:fRotX = 0.0, Float:fRotY = 0.0, Float:fRotZ = 0.0, Float:fScaleX = 1.0, Float:fScaleY = 1.0, Float:fScaleZ = 1.0)
{
    SetPlayerAttachedObject(playerid, index, modelid, bone, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
    return true;
}

#define GENERAL_ADMIN_1 			"Christian_Bagwell"
#define GENERAL_ADMIN_2 			"Youta_Takahashi"
#define GENERAL_ADMIN_3 			"Tony_Barrera"
#define GENERAL_ADMIN_4 			"Vladimir_Castro"
#define GENERAL_ADMIN_5 			"Thomas_Sleeps"
#define GENERAL_ADMIN_6				"Bogdan_Champ"

stock general_red_admin(string[])
{
	if(!strcmp(string, GENERAL_ADMIN_1, true)) return true;
	else if(!strcmp(string, GENERAL_ADMIN_2, true)) return true;
	else if(!strcmp(string, GENERAL_ADMIN_3, true)) return true;
	else if(!strcmp(string, GENERAL_ADMIN_4, true)) return true;
	else if(!strcmp(string, GENERAL_ADMIN_5, true)) return true;
	else if(!strcmp(string, GENERAL_ADMIN_6, true)) return true;
	else return false;
}

